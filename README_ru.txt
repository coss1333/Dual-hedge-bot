gate_dual_hedge_bot
===================

ВНИМАНИЕ: это учебный пример. Перед использованием ОБЯЗАТЕЛЬНО протестируйте на очень маленьких суммах и убедитесь,
что все расчёты соответствуют реальному поведению Gate.com.

Состав:
- bot.py        — основной скрипт стратегии Dual Investment + фьючерсний хедж
- config.json   — файл с API ключами и настройками (создайте на основе config_example.json)
- config_example.json — пример конфигурации

Установка:
1. Установите Python 3.10+ и библиотеку requests:
   pip install requests

2. Создайте виртуальное окружение (по желанию).

3. На Gate.com создайте API ключ с правами:
   - чтение балансов
   - торговля фьючерсами
   - Earn / Dual Investment

4. Скопируйте config_example.json в config.json и заполните поля api_key и api_secret.

Запуск:
    python bot.py

Скрипт:
1) Запрашивает сумму вклада в Dual Investment (USDT)
2) Находит лучший по APR Dual Investment по ETH (покупать ETH дешевле, срок около 1 дня)
3) Считает примерный объём хеджа по фьючерсу ETH_USDT
4) При подтверждении:
   - создаёт ордер Dual Investment
   - открывает фьючерсный шорт

Автоматическое закрытие шорта и конвертация ETH в этом минимальном примере *не реализованы* до конца.
Их можно добавить на основе функций:
- wait_for_dual_settlement(...)
- close_futures_short_market(...)

Важные моменты:
- Параметр hedge_multiplier в config.json управляет силой хеджа.
  1.0  — хеджируем примерно тело депозита
  1.02 — можно попытаться захеджировать тело + проценты
- На Gate размер контракта и поле size зависят от настроек фьючерса, обязательно проверьте на маленьком ордере,
  что size действительно соответствует нужному вам нотионалу в USDT.